<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/swing_logo.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/swing_logo.png" color="#222">
  <meta name="google-site-verification" content="uoL1t-yrbhPowL65E-xnG5D1FNLOwghJsIG6iqHrEsc">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"log.swuswing.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.19.2","exturl":true,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Kernel Panic[커널 크래시란?]1. 커널이란?커널(Kernel)은 항상 메모리에 상주하는 OS의 핵심 부분으로, 하드웨어와 응용 프로그램 사이에서 인터페이스를 제공하며 컴퓨터 자원들을 관리하는 역할을 한다. 즉, 커널은 인터페이스로서 프로그램 수행에 필요한 여러 가지 서비스를 제공하고 여러 하드웨어 자원(CPU, Memory, Disk 등)을 관리">
<meta property="og:type" content="article">
<meta property="og:title" content="커널 패닉(Kernel Panic) 완전 정복">
<meta property="og:url" content="https://log.swuswing.com/2025/10/14/3212_250809/index.html">
<meta property="og:site_name" content="SW1NGL0G">
<meta property="og:description" content="Kernel Panic[커널 크래시란?]1. 커널이란?커널(Kernel)은 항상 메모리에 상주하는 OS의 핵심 부분으로, 하드웨어와 응용 프로그램 사이에서 인터페이스를 제공하며 컴퓨터 자원들을 관리하는 역할을 한다. 즉, 커널은 인터페이스로서 프로그램 수행에 필요한 여러 가지 서비스를 제공하고 여러 하드웨어 자원(CPU, Memory, Disk 등)을 관리">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://log.swuswing.com/images/3211_250809_image01.png">
<meta property="og:image" content="https://log.swuswing.com/images/3211_250809_image02.png">
<meta property="og:image" content="https://log.swuswing.com/images/3211_250809_image03.png">
<meta property="og:image" content="https://log.swuswing.com/images/3211_250809_image04.png">
<meta property="og:image" content="https://log.swuswing.com/images/3211_250809_image05.png">
<meta property="og:image" content="https://log.swuswing.com/images/3211_250809_image06.png">
<meta property="og:image" content="https://log.swuswing.com/images/3211_250809_image07.png">
<meta property="article:published_time" content="2025-10-13T15:00:00.000Z">
<meta property="article:modified_time" content="2025-10-16T02:55:30.171Z">
<meta property="article:author" content="SWING">
<meta property="article:tag" content="Kernel">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Panic">
<meta property="article:tag" content="CrashDump">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://log.swuswing.com/images/3211_250809_image01.png">


<link rel="canonical" href="https://log.swuswing.com/2025/10/14/3212_250809/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://log.swuswing.com/2025/10/14/3212_250809/","path":"2025/10/14/3212_250809/","title":"커널 패닉(Kernel Panic) 완전 정복"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>커널 패닉(Kernel Panic) 완전 정복 | SW1NGL0G</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">SW1NGL0G</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Kernel-Panic"><span class="nav-number">1.</span> <span class="nav-text">Kernel Panic</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%BB%A4%EB%84%90-%ED%81%AC%EB%9E%98%EC%8B%9C%EB%9E%80"><span class="nav-number">1.1.</span> <span class="nav-text">[커널 크래시란?]</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%EC%BB%A4%EB%84%90%EC%9D%B4%EB%9E%80"><span class="nav-number">1.1.1.</span> <span class="nav-text">1. 커널이란?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%EC%BB%A4%EB%84%90-%ED%8C%A8%EB%8B%89-%EC%A0%95%EC%9D%98-%EC%BB%A4%EB%84%90-%ED%8C%A8%EB%8B%89%EC%9D%B4%EB%9E%80"><span class="nav-number">1.1.2.</span> <span class="nav-text">2. 커널 패닉 정의(커널 패닉이란?)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%ED%8C%A8%EB%8B%89-%EB%B0%9C%EC%83%9D-%EC%9B%90%EC%9D%B8"><span class="nav-number">1.1.3.</span> <span class="nav-text">3.패닉 발생 원인</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Oops-vs-Panic"><span class="nav-number">1.1.4.</span> <span class="nav-text">4.Oops vs. Panic</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%BB%A4%EB%84%90-%ED%8C%A8%EB%8B%89-%EB%8D%A4%ED%94%84-%EB%A7%A4%EC%BB%A4%EB%8B%88%EC%A6%98"><span class="nav-number">1.2.</span> <span class="nav-text">[커널 패닉 덤프 매커니즘]</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%EC%BB%A4%EB%84%90-%ED%8C%A8%EB%8B%89-%EB%B0%9C%EC%83%9D-%ED%9D%90%EB%A6%84-%E2%80%93-%ED%8C%A8%EB%8B%89-%EC%9C%A0%EB%8F%84-%ED%95%A8%EC%88%98"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.커널 패닉 발생 흐름 – 패닉 유도 함수</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Kernel-Crash-Dump-kexec"><span class="nav-number">1.3.</span> <span class="nav-text">2. Kernel Crash Dump &amp; kexec</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-kdump"><span class="nav-number">1.4.</span> <span class="nav-text">3.kdump</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-kdump%EC%99%80-kexec%EC%9D%98-%EA%B5%AC%EB%8F%99-%EC%9B%90%EB%A6%AC"><span class="nav-number">1.5.</span> <span class="nav-text">4.kdump와 kexec의 구동 원리</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-kdump%EC%9D%98-%EC%9E%91%EB%8F%99-%EC%9B%90%EB%A6%AC"><span class="nav-number">1.6.</span> <span class="nav-text">5.kdump의 작동 원리</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%B0%B8%EA%B3%A0-%EB%AC%B8%ED%97%8C"><span class="nav-number">1.6.1.</span> <span class="nav-text">참고 문헌</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">SWING</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">57</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnN3dS5zd2luZ0BnbWFpbC5jb20=" title="E-Mail → mailto:swu.swing@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL0Bzd3Vzd2luZw==" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;@swuswing"><i class="fab fa-facebook fa-fw"></i>FB Page</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9zd2luZ19zd3U=" title="Instagram → https:&#x2F;&#x2F;www.instagram.com&#x2F;swing_swu"><i class="fab fa-instagram fa-fw"></i>Instagram</span>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <span class="exturl" data-url="aHR0cHM6Ly9zd3Vzd2luZy5jb20v" title="https:&#x2F;&#x2F;swuswing.com&#x2F;">SWING Official Website</span>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://log.swuswing.com/2025/10/14/3212_250809/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SWING">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SW1NGL0G">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="커널 패닉(Kernel Panic) 완전 정복 | SW1NGL0G">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          커널 패닉(Kernel Panic) 완전 정복
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="far fa-user"></i>
    </span>
    <span class="post-meta-item-text">author: sonotri</span>
  </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-10-14 00:00:00" itemprop="dateCreated datePublished" datetime="2025-10-14T00:00:00+09:00">2025-10-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/system/" itemprop="url" rel="index"><span itemprop="name">system</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="Kernel-Panic"><a href="#Kernel-Panic" class="headerlink" title="Kernel Panic"></a>Kernel Panic</h1><h2 id="커널-크래시란"><a href="#커널-크래시란" class="headerlink" title="[커널 크래시란?]"></a>[커널 크래시란?]</h2><h3 id="1-커널이란"><a href="#1-커널이란" class="headerlink" title="1. 커널이란?"></a>1. 커널이란?</h3><p>커널(Kernel)은 항상 메모리에 상주하는 OS의 핵심 부분으로, 하드웨어와 응용 프로그램 사이에서 인터페이스를 제공하며 컴퓨터 자원들을 관리하는 역할을 한다. 즉, 커널은 인터페이스로서 프로그램 수행에 필요한 여러 가지 서비스를 제공하고 여러 하드웨어 자원(CPU, Memory, Disk 등)을 관리하는 역할을 한다. 메모리에 상주하는 특징을 빼면 평범한 C 프로그램이다.  </p>
<span id="more"></span>


<p><img src="/images/3211_250809_image01.png" alt="그림 1. 커널 구조 예시">  </p>
<center><span style="font-size: 90%;">그림 1. [커널 구조 예시]</span></center>
<br>

<p>커널의 가장 큰 목표는 컴퓨터의 하드웨어 자원(물리적 자원)과 추상화 자원을 관리하는 것이다. 추상화란, 물리적으로 하나뿐인 하드웨어를 여러 사용자들이 번갈아 사용할 수 있도록 마치 하드웨어가 여러 개인 것처럼 보이게 하는 기술이다. 즉 커널에 의해 유저들은 하나의 하드웨어를 독점적으로 사용하는 듯한 느낌을 받는다. 물리적 자원들과 이를 추상화한 자원들을 칭하는 용어는 대표적으로 아래와 같은 것들이 있다.  </p>
<p>CPU(물리적 자원): Task or Process(추상화 자원): CPU는 실행 단위를 제공하며, 커널은 물리적 자원인 CPU를 추상적 자원인 Process 또는 Task로 관리한다<br>Memory: Page or Segment: 메모리는 커널에 의해 Page 또는 Segment 단위로 관리된다.<br>Disk - File: 물리적 자원인 디스크를 추상적 자원인 File로 제공한다<br>Network: Socket: 물리적 자원인 네트워크 자원은 Socket을 통해 프로그램 데이터 송수신이 가능하도록 추상화된다.</p>
<p>앞서 말한 커널 구성요소가 존재하는 공간을 커널 공간(Kernel Space)이라고 할 수 있다. 커널 공간 위에는 사용자로 여겨지는 유저 공간(User Space)가 있으며 여기에 Task, Process들이 존재한다. 그리고 이 유저 공간과 커널 공간 사이에는 보이지 않는 시스템 콜 인터페이스 (System Call Interface)가 존재한다. 유저 공간의 Task 또는 Process들이 커널이 관리하는 자원에 접근해야 할 때 → System Call Interface를 통해 → 커널 공간의 자원관리자에게 요청이 전달되는 방식이다. 이 과정이 이루어지면 커널은 사용자 요청에 맞는 하드웨어에게 명령을 전달하고 작업을 수행하게 된다.  </p>
<p><img src="/images/3211_250809_image02.png" alt="그림 2. 커널과 유저 공간 구조도">  </p>
<center><span style="font-size: 90%;">그림 2. [커널과 유저 공간 구조도]</span></center>
<br>

<hr>
<h3 id="2-커널-패닉-정의-커널-패닉이란"><a href="#2-커널-패닉-정의-커널-패닉이란" class="headerlink" title="2. 커널 패닉 정의(커널 패닉이란?)"></a>2. 커널 패닉 정의(커널 패닉이란?)</h3><p>Windows 운영체제를 사용하는 사용자라면 한 번쯤은 ‘블루 스크린’을 들어본 적이 있을 것이다. 블루 스크린 오브 데스(Blue Screen of Death, BSOD)는 마이크로소프트 윈도우 운영체제에 나타나는 악명 높은 오류 메시지로 하드웨어 오류, 소프트웨어 문제, 드라이버 충돌 등 다양한 문제로 인해 발생한다.  </p>
<p><img src="/images/3211_250809_image03.png" alt="그림 3. 블루 스크린 예시">  </p>
<center><span style="font-size: 90%;">그림 3. [블루 스크린 예시]</span></center>
<br>

<p>커널 크래시(Kernel Crash) 또는 커널 패닉(Kernel Panic)은 Linux 운영체제에서 발생하는 블루 스크린과 같은 오류이다. 블루 스크린과 달리 파란 화면이 아닌 검은 배경에 흰색 문구가 보인다.  </p>
<p><img src="/images/3211_250809_image04.png" alt="그림 4. 커널 패닉 화면 예시">  </p>
<center><span style="font-size: 90%;">그림 4. [커널 패닉 화면 예시]</span></center>
<br>

<hr>
<h3 id="3-패닉-발생-원인"><a href="#3-패닉-발생-원인" class="headerlink" title="3.패닉 발생 원인"></a>3.패닉 발생 원인</h3><p>커널 패닉은 운영체제에서 발생할 수 있는 가장 심각한 오류 중 하나로, 갑작스러운 시스템 중단 또는 재부팅을 초래하는 경우가 많다.<br>커널 패닉은 다음과 같은 원인으로 인해 발생할 수 있다.  </p>
<ul>
<li>운영체제의 부적절한 메모리 접근  </li>
<li>부정확하거나 제대로 장착되지 않은 RAM  </li>
<li>마이크로프로세스의 결함  </li>
<li>파일 시스템 또는 데이터 손상  </li>
<li>하드 디스크 손상  </li>
<li>프로그램 간의 충돌  </li>
<li>멀웨어(악성코드) 또는 버그가 있는 소프트웨어<br><br><br></li>
</ul>
<hr>
<h3 id="4-Oops-vs-Panic"><a href="#4-Oops-vs-Panic" class="headerlink" title="4.Oops vs. Panic"></a>4.Oops vs. Panic</h3><p>웁스라고 불리는 것도 있다. 간단히 살펴보자!<br>웁스(oops)와 커널 패닉은 리눅스 커널에서 예외상황이 발생하였을 때 출력되는 메시지이다. 하지만 이 둘은 차이점이 있다.  </p>
<table>
<thead>
<tr>
<th>구분</th>
<th>Oops</th>
<th>Kernel Panic</th>
</tr>
</thead>
<tbody><tr>
<td><strong>정의</strong></td>
<td>커널이 정상적인 동작 행위를 벗어나는 예외적인 상황이 발생했을 때 출력되는 메시지</td>
<td>커널에 회복 불가능한 치명적인 오류가 발생했을 경우, 시스템이 동작을 멈추며 출력하는 메시지</td>
</tr>
<tr>
<td><strong>의미</strong></td>
<td>문제가 생기긴 했지만, 커널이 시스템을 부분적으로 동작할 수 있는 상황</td>
<td>문제의 심각성이 커, 커널이 시스템을 더 이상 동작할 수 없는 상황</td>
</tr>
<tr>
<td><strong>시스템 반응</strong></td>
<td>문제가 발생한 스레드만 종료</td>
<td>시스템 전체가 정지 또는 자동 재부팅</td>
</tr>
<tr>
<td><strong>발생하는 상황</strong></td>
<td>잘못된 system call, 널 포인터 참조 등</td>
<td>oops 발생 이후 일관성이 깨짐, 메모리 오류 등</td>
</tr>
<tr>
<td><strong>필요한 조치</strong></td>
<td>로그를 분석하여 문제 해결</td>
<td>패닉 발생 이후 바로 재부팅되므로, kdump와 같은 툴로 덤프 수집이 필요</td>
</tr>
</tbody></table>
<p><br><br></p>
<hr>
<h2 id="커널-패닉-덤프-매커니즘"><a href="#커널-패닉-덤프-매커니즘" class="headerlink" title="[커널 패닉 덤프 매커니즘]"></a>[커널 패닉 덤프 매커니즘]</h2><h3 id="1-커널-패닉-발생-흐름-–-패닉-유도-함수"><a href="#1-커널-패닉-발생-흐름-–-패닉-유도-함수" class="headerlink" title="1.커널 패닉 발생 흐름 – 패닉 유도 함수"></a>1.커널 패닉 발생 흐름 – 패닉 유도 함수</h3><p>C와 C++에는 assert() 함수가 존재한다.<br>assert() 함수는 디버깅 모드에서 오류가 생기면 치명적인 곳에 심어놓는 에러 검출용 코드이다.<br>오류가 발생하면 프로그램이 개발자에게 버그 발생 위치, 호출 스택 (call stack) 등 여러 정보를 알려주기 때문에,<br>개발자가 수많은 로그를 일일이 로그를 찾아보지 않아도 된다는 장점이 있다.</p>
<p>리눅스 커널에서는 assert() 함수 대신, <strong>BUG()</strong> 또는 <strong>panic()</strong> 이라는 함수가 커널 패닉을 의도적으로 유발하는 용도로 사용된다.<br>간단한 코드와 함께 이해해보자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// arch/x86/mm/fault.c</span><br><span class="line">if (unlikely(regs-&gt;cs == 0)) &#123;</span><br><span class="line">    printk(KERN_EMERG &quot;Double fault\n&quot;);</span><br><span class="line">    BUG(); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>먼저 BUG() 함수이다.<br>만약(if) 현재 실행 중인 코드 세그먼트(cs)가 0이라면, KERN_EMERG로 가장 높은 심각도라고 기록한다.<br>그리고 BUG() 함수를 호출하여 커널을 종료한다.<br><code>unlikely()</code>는 if 분기문에서 컴파일러에게 해당 분기문의 결과가 거짓인 경우가 더 많을 것이라는 정보를 주는 함수이다.<br>해당 코드에서는 ‘발생 확률이 매우 적은 예외적 상황’이라는 정보를 준다고 생각하면 된다.<br><strong>더블 폴트(Double fault)</strong> 는 프로세서가 이전 예외에 대한 예외 처리기를 호출하는 동안 두 번째 예외를 감지한 경우 발생한다.<br><br></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// init/do_mounts.c → 부팅 시 루트 파일 시스템을 마운트 하는 과정</span><br><span class="line">panic(&quot;VFS: Unable to mount root fs on %s\n&quot;, b);</span><br></pre></td></tr></table></figure>

<p>다음은 <strong>panic()</strong> 함수이다.<br>리눅스는 부팅 과정에서 반드시 루트 파일 시스템(&#x2F;)을 마운트해야 한다.<br>하지만 부팅 시 루트 파일 시스템을 찾을 수 없는 상황이 발생하면 정상적인 부팅 진행이 불가능해진다.<br>이런 경우 시스템은 panic() 함수를 호출하여 시스템을 중단시킨다.  </p>
<p><strong>VFS(Virtual File System)</strong> : 리눅스 커널의 파일 시스템 추상화 계층으로, 다양한 파일 시스템들을 동일한 인터페이스로 접근할 수 있게 해준다. 커널 부팅에 필요한 파일들에 접근하고 마운트하는데 중요한 역할을 한다.<br><strong>root fs</strong> : 루트 파일 시스템<br><strong>b</strong> : 커널 부팅 과정 중, 파라미터로부터 받아온 루트 디바이스 경로  </p>
<p>두 함수를 살펴봤다면 이런 의문이 생길 수 있다.<br>“왜 개발자들은 함수를 이용해 의도적으로 커널 패닉을 유발할까?”<br>루트 파일 시스템이 마운트되지 않는 상황을 가정해보자.<br>루트 파일 시스템 마운트가 진행되지 않으면 시스템 부팅 과정에서 계속 오류가 발생할 것이다.<br>이때 커널 패닉을 유도하는 함수를 사용하지 않으면, 사용자는 루트 파일 시스템이 마운트되지 않은 상태인 것도 모르고 계속 시스템 에러를 잡는 수고를 할 것이다.<br>그렇기에 개발자들은 커널 크래시를 유발해 현재 문제 상황을 해결하라고 알려준다.  </p>
<p><img src="/images/3211_250809_image05.png" alt="그림 5. 커널 패닉 메시지">  </p>
<center><span style="font-size: 90%;">그림 5. [커널 패닉 메시지]</span></center>
<br>

<hr>
<h2 id="2-Kernel-Crash-Dump-kexec"><a href="#2-Kernel-Crash-Dump-kexec" class="headerlink" title="2. Kernel Crash Dump &amp; kexec"></a>2. Kernel Crash Dump &amp; kexec</h2><p><strong>커널 크래시 덤프</strong>란, 커널의 실행이 중단될 때, 디스크에 복사되는 RAM의 내용 중 일부를 의미한다. 이는 커널이 패닉 상태에 진입했을 때 시스템의 메모리 상태를 파일로 기록함으로써 이후 디버깅을 가능하게 한다. 쉽게 말해 “커널 패닉 전의 상태를 저장한 스냅샷”이라고도 볼 수 있다.<br>커널 크래시 덤프는, 리눅스 운영체제에서 oops&#x2F;kernel panic 과 같은 치명적인 오류를 분석할 수 있도록 해주는 중요한 매커니즘이다.</p>
<p><strong>kexec</strong>는 현재 작동 중인 커널에 새로운 커널이 부팅되게 하는 리눅스 커널의 기능이다. 기존의 부트로더 단계를 생략하고, 새로운 커널을 메인 메모리에 로드하여 즉시 실행하기 때문에 전체 시스템 재부팅 과정을 거치는데 비해 재시작 시간이 훨씬 짧고 다운타임을 최소화할 수 있다.<br>kexec를 실행하기 위해서는 second kernel이 로드될 메모리가 설정되어 있어야 한다.<br><br></p>
<hr>
<h2 id="3-kdump"><a href="#3-kdump" class="headerlink" title="3.kdump"></a>3.kdump</h2><p><strong>kdump</strong>는 kexec를 바탕으로 한 커널 크래시 덤프 매커니즘으로, 커널 크래시가 발생했을 때 크래시 덤프를 캡쳐하는데 사용하는 툴이다. 커널 크래시가 발생했을 때 시스템 메모리 상태를 <code>vmcore</code> 파일 형태로 저장하는 작업을 수행한다. 간단히 말하자면, 어떠한 에러가 발생했을 때 그 원인을 찾을 수 있는 실마리를 제공하는 것이 <code>vmcore</code>이라는 코어 파일이고, 이런 코어 파일을 생성하는 것이 kdump이다.<br>크래시가 발생하면 kexec가 실행되고, 예약된 메모리에서 kdump 커널을 로드한 후 RAM의 데이터가 로컬 디스크의 <code>vmcore</code>에 복사된 뒤 재부팅된다.<br><br></p>
<hr>
<h2 id="4-kdump와-kexec의-구동-원리"><a href="#4-kdump와-kexec의-구동-원리" class="headerlink" title="4.kdump와 kexec의 구동 원리"></a>4.kdump와 kexec의 구동 원리</h2><p>위에서 살펴본 것처럼 kexec는 현재 동작 중인 커널에서 새로운 커널(second kernel)을 부팅할 수 있도록 해주는 메커니즘이다.<br>second kernel은 캡처 커널(capture kernel)이라고도 불린다.<br>kexec는 시스템 부팅 시 second kernel을 현재 동작 중인 커널에 정의하여 메모리의 특정 영역에 예약한다.<br>이 과정이 아래 그림의 <code>kexec -l</code> 에서 수행된다.<br>이 과정에서 second kernel이 들어갈 메모리 공간이 확보된다고 생각하면 된다.<br>이후 커널 패닉이 발생하면 <code>kexec -e</code> 명령어를 통해 예약된 메모리의 second kernel이 부팅된다.<br>즉, <code>kexec -l</code> 명령어로 메모리에 커널을 미리 로드해두면 언제든지 <code>kexec -e</code> 명령어로 해당 커널을 실행할 수 있는 것이다.<br>kdump를 설정해두면, 사용자가 별도로 second kernel 이미지를 준비하지 않더라도 시스템이 자동으로 &#x2F;boot 디렉토리에 커널 이미지를 생성해두기 때문에, 보다 쉽게 크래시 덤프 환경을 구축할 수 있다.  </p>
<p><img src="/images/3211_250809_image06.png" alt="그림 6. kexec와 kdump의 구조도 예시">  </p>
<center><span style="font-size: 90%;">그림 6. [kexec와 kdump의 구조도 예시]</span></center>
<br>

<hr>
<h2 id="5-kdump의-작동-원리"><a href="#5-kdump의-작동-원리" class="headerlink" title="5.kdump의 작동 원리"></a>5.kdump의 작동 원리</h2><p>위에서 살펴봤듯, kdump는 시스템이 처음 부팅할 때 시스템의 예약된 곳에 second kernel을 메모리에 로드하고 실행할 수 있게 해주는 메커니즘이다.<br>일반적인 재부팅 과정인 “BIOS → Boot Loader → Kernel” 로딩 순서가 아닌, kexec를 통해 이 과정을 생략하고 커널을 직접 메모리에 올려 실행함으로써 부팅 시간을 줄인다.<br><code>kexec -l</code>로 second kernel을 메모리의 특정 영역에 로드하고 이후 커널 패닉이 발생하면 <code>kernel -e</code> 명령어를 통해 로드된 second kernel이 실행된다.<br>해당 과정을 자동화한 시스템이 바로 kdump이고, 이때 사용되는 명령어가 <code>kexec -p</code>이다.<br><code>kexec -e</code>가 수동으로 second kernel을 실행하는 역할이었다면, <code>kexec -p</code>는 명령어를 통해 자동으로 second kernel을 로드하고, 커널 패닉 시 시스템에서 자동으로 실행되도록 구성된다는 차이점이 있다.  </p>
<p><img src="/images/3211_250809_image07.png" alt="그림 7. kdump 동작 구조도 예시">  </p>
<center><span style="font-size: 90%;">그림 7. [kdump 동작 구조도 예시]</span></center>

<hr>
<h3 id="참고-문헌"><a href="#참고-문헌" class="headerlink" title="참고 문헌"></a>참고 문헌</h3><ul>
<li><span class="exturl" data-url="aHR0cDovL3d3dy5pb3JjaGFyZC5uZXQvMjAxNi8xMS8wMS91c2luZ19jcmFzaGR1bXBfZm9yX3Ryb3VibGVzaG9vdGluZ19rZXJuZWxfY3Jhc2guaHRtbA==">http://www.iorchard.net/2016/11/01/using_crashdump_for_troubleshooting_kernel_crash.html</span>  </li>
<li><span class="exturl" data-url="aHR0cHM6Ly9hYm91dGV2ZXJ5LnRpc3RvcnkuY29tLzIyMA==">https://aboutevery.tistory.com/220</span>  </li>
<li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLm5hdmVyLmNvbS9nb2xkLW1vdXNlLzIyMzE1MjM1Mjg2MQ==">https://blog.naver.com/gold-mouse/223152352861</span>  </li>
<li><span class="exturl" data-url="aHR0cHM6Ly9hY2Nlc3MucmVkaGF0LmNvbS9zb2x1dGlvbnMvNjAzOA==">https://access.redhat.com/solutions/6038</span>  </li>
<li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLm5hdmVyLmNvbS9jcnVzaGhoLzIyMTU1NzkwOTY1Mg==">https://blog.naver.com/crushhh/221557909652</span>  </li>
<li><span class="exturl" data-url="aHR0cHM6Ly9mZGNzZXJ2ZXJzLm5ldC9rby9ibG9nL3RoaW5ncy10by1rbm93LWFib3V0LWtlcm5lbC1wYW5pYy1lcnJvcg==">https://fdcservers.net/ko/blog/things-to-know-about-kernel-panic-error</span>  </li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYXdhcmQudGlzdG9yeS5jb20vNQ==">https://haward.tistory.com/5</span></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Kernel/" rel="tag"># Kernel</a>
              <a href="/tags/Linux/" rel="tag"># Linux</a>
              <a href="/tags/Panic/" rel="tag"># Panic</a>
              <a href="/tags/CrashDump/" rel="tag"># CrashDump</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/10/11/3211_251011/" rel="prev" title="XSS">
                  <i class="fa fa-angle-left"></i> XSS
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy;
    
      2024 – <span itemprop="copyrightYear">2025</span>
    
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">SWING</span>
  </div>
  <div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9tdXNlLw==">NexT.Muse</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
